(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4878:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(6910)}])},6910:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return y}});var t=i(4512),s=i(2901),a=i(677),n=i(2494),r=i(3318),d=i(2191),h=i(6917),o=i(1175),c=i(2735);let w=()=>{var e;let l=(0,c.useRef)((0,h.Z)({delay:5e3})),{data:i}=(0,d.a)({queryKey:["news"],queryFn:()=>fetch("/api/news").then(e=>e.json()).then(e=>e.data)}),w=null==i?void 0:null===(e=i.withHighlights)||void 0===e?void 0:e.items,[u,f]=(0,r.n)();return(0,c.useEffect)(()=>{w&&Promise.all(w.map(async e=>{let l=await (0,o.U2)("image-".concat(e.id));if(l){let i=URL.createObjectURL(l);f.append([e.id,i])}else{var i;let l=null===(i=e.content[0])||void 0===i?void 0:i.bannerUrl,t=await fetch(null!=l?l:""),s=await t.blob(),a=URL.createObjectURL(s);f.append([e.id,a]),await (0,o.t8)("image-".concat(e.id),s)}}))},[w]),(0,t.jsxs)("div",{className:"flex flex-col w-1/4 min-w-[280px] h-[130px] gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-white"}),(0,t.jsx)(a.x,{className:"leading-none relative bottom-[2px] text-white",children:"Highlights"}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("div",{className:"absolute left-0 w-full h-[1px] bg-white"}),(0,t.jsx)("div",{className:"absolute right-0 w-1/4 h-[6px] bg-white"})]})]}),(0,t.jsx)(s.l,{loop:!0,withIndicators:!0,className:"flex-1",plugins:[l.current],withControls:!1,styles:{indicator:{width:(0,n.h)(12),height:(0,n.h)(4),transition:"width 250ms ease","&[data-active]":{width:(0,n.h)(40)}}},children:w&&w.map(e=>{var l;return(0,t.jsx)(s.l.Slide,{className:"cursor-pointer flex items-center justify-center",onClick:()=>{window.open("https://www.arknights.global/news/".concat(e.id),"_blank")},children:(0,t.jsx)("img",{alt:"",className:"w-full h-full",src:null===(l=u.find(l=>l[0]===e.id))||void 0===l?void 0:l[1]})},e.id)})})]})};var u=i(1670),f=i(7530),x=i.n(f);let v=()=>{var e,l,i;let{data:s}=(0,d.a)({queryKey:["news"],queryFn:()=>fetch("/api/news").then(e=>e.json()).then(e=>e.data)}),n=null==s?void 0:null===(e=s.withHighlights)||void 0===e?void 0:null===(l=e.items)||void 0===l?void 0:l.map(e=>e.id),r=null==s?void 0:null===(i=s.items)||void 0===i?void 0:i.filter(e=>!(null==n?void 0:n.includes(e.id)));return(0,t.jsxs)("div",{className:"flex flex-col w-1/4 min-w-[280px] h-1/2 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-white"}),(0,t.jsx)(a.x,{className:"leading-none relative bottom-[2px] text-white",children:"News"}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("div",{className:"absolute left-0 w-full h-[1px] bg-white"}),(0,t.jsx)("div",{className:"absolute right-0 w-1/4 h-[6px] bg-white"})]})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col w-full h-full gap-2 overflow-auto scrollarea",children:r&&r.map(e=>(0,t.jsxs)("div",{className:"border-b border-t-0 border-l-0 border-r-0 border-solid border-b-[#C1C2C5] flex flex-col w-full gap-2 p-2 cursor-pointer hover:bg-white hover:bg-opacity-10 hover:border-b-white transition-all duration-200",onClick:()=>{window.open("https://www.arknights.global/news/".concat(e.id),"_blank")},children:[(0,t.jsx)(u.D,{order:6,children:e.title}),(0,t.jsx)(a.x,{className:"self-end",children:x()(e.publishedAt).format("YYYY.MM.DD")})]},e.id))})]})},p=e=>{let[l,i]=(0,c.useState)();return((0,c.useEffect)(()=>{i(Math.floor(4*Math.random()))},[]),void 0===l)?null:(0,t.jsx)("img",{alt:"",src:"/images/wallpapers/".concat(l,".jpg"),...e})};var g=i(9587),m=i(4066),j=i(5502),b=i(2070),N=i.n(b);let k=N()(()=>Promise.all([i.e(260),i.e(116)]).then(i.bind(i,6116)),{loadableGenerated:{webpack:()=>[6116]},ssr:!1}),_=()=>{var e,l;let i=(0,c.useRef)(null),s=(0,j.n)(),a=s.width,n=s.height-(null!==(l=null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==l?l:60);return(0,t.jsx)(g.V,{padding:0,header:(0,t.jsx)(m.h,{ref:i,bg:"black",height:60,p:"md",withBorder:!1,children:(0,t.jsxs)("div",{className:"flex gap-4 items-center h-full w-full",children:[(0,t.jsx)("img",{alt:"",height:40,src:"/images/rhodes_island.png",width:40}),(0,t.jsx)(u.D,{fw:400,order:4,children:"Rhodes Console"})]})}),children:(0,t.jsxs)("div",{className:"relative overflow-auto",style:{width:a,height:n},children:[(0,t.jsx)(p,{className:"sticky w-full h-full top-0 left-0 object-cover blur-3xl brightness-50 saturate-200"}),(0,t.jsx)(k,{className:"absolute top-0 left-0 w-full h-full",height:n,width:a}),(0,t.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full p-4 flex flex-col gap-4",children:[(0,t.jsx)(w,{}),(0,t.jsx)(v,{})]})]})})};var y=_}},function(e){e.O(0,[521,774,888,179],function(){return e(e.s=4878)}),_N_E=e.O()}]);